2004-03-11  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.ac: use new setup with mirrored cvs tree

2004-03-10  David Schleef  <ds@schleef.org>

	* gst-libs/ext/ffmpeg/patch/asm.diff:  Add a patch that
	decreases register usage.  (bug #136658)

2004-03-10  David Schleef  <ds@schleef.org>

	* configure.ac: bump gstreamer API number to 0.8

2004-03-09  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/Makefile.am:
	  Prevent more symbol conflicts...
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_register):
	  Up priority/rank for MPEG-4 decoder. Reason is simple: it's well-
	  tested and by far outperforms xviddec/divxdec. They'll get some
	  other, slightly lower, rank.
	* gst-libs/ext/ffmpeg/patch/autotools.diff:
	  Tweaking...
	* gst-libs/ext/ffmpeg/patch/disableinstalllibs.diff:
	  Prevent more symbol conflicts. I changed this (to pass 'make
	  distcheck') in the one patch, so need to change it here too.
	* gst-libs/ext/ffmpeg/patch/disablemmx.diff:
	  Re-enable MMX. :).
	* gst-libs/ext/ffmpeg/patch/functions.diff:
	  Bla.

2004-03-09  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* configure.ac:
	  Patch properly. Update version.
	* gst-libs/ext/ffmpeg/Makefile.am:
	  Comment out patching - all handled by configure.
	* gst-libs/ext/ffmpeg/Tag:
	  Update version.
	* gst-libs/ext/ffmpeg/patch/autotools.diff:
	  Some small updates to improve compiling.
	* gst-libs/ext/ffmpeg/patch/functions.diff:
	  Update date.
	* gst-libs/ext/ffmpeg/patch/matroska.diff:
	  Newer patch - see ffmpeg-devel mailinglists.
	* gst-libs/ext/ffmpeg/patch/function.patch:
	  Remove old cruft.
	* gst-libs/ext/ffmpeg/patch/disabletools.diff:
	  Now handled by --disable-... in configure.

2004-03-07  David Schleef  <ds@schleef.org>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps):
	Add cinepak format.  (bug #136470)

2004-03-05  David Schleef  <ds@schleef.org>

	* configure.ac:  Call ffmpeg's configure with --disable-v4l,
	--disable-oss-audio, --disable-dv1394 (bug #127873)

2004-03-04  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_formatid_to_caps):
	  Fix quicktime type recognition in ffmpeg. We returned a bogus
	  caps, which caused ffdemux_quicktime to be chosen over qtdemux.
	  This fixes that.

2004-03-04  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* configure.ac:
	  Brackets cause autoconf errors. So remove them.
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_add):
	  Actually use the event/convert/query functions. D'oh.

2004-03-02  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* configure.ac:
	* gst-libs/ext/ffmpeg/Makefile.am:
	  Slightly change the way we set this up. Ugly, but now it works
	  again. This baby is looking for a proper fix.
	* gst-libs/ext/ffmpeg/Tag:
	  Apparently CVS and me disagree on the tag... Ohwell, CVS wins.
	* gst-libs/ext/ffmpeg/patch/autotools.diff:
	* gst-libs/ext/ffmpeg/patch/disableinstalllibs.diff:
	  Slight nag on a link between lavf/lavc in ffmpeg. Not really
	  important for us since the code is the same in the end, but this
	  is actually correct from a per-patch point-of-view...

2004-03-02  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* gst-libs/ext/ffmpeg/Makefile.am:
	  Fix patching.

2004-03-01  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_connect):
	  Fix B-frame DivX5/XviD display by removing the truncated flag when
	  not needed.
	* gst-libs/ext/ffmpeg/patch/autotools.diff:
	  Remove link to libavcodec - it causes symbol conflicts (why?).

2004-02-29  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* HACKING:
	  Add some basic documentation on how our wrapping works.
	* TODO:
	  Add a list of things that could be worked on or that need doing.
	* configure.ac:
	  Update snapshot.
	* ext/ffmpeg/Makefile.am:
	  Changne .la links. See below (autotools patch).
	* ext/ffmpeg/gstffmpeg.c: (plugin_init):
	  Enable demuxers. See below (gstffmpegdemux.c).
	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_formatid_to_caps):
	  Realmedia caused a crash - fix that.
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_averror),
	(gst_ffmpegdemux_base_init), (gst_ffmpegdemux_init),
	(gst_ffmpegdemux_close), (gst_ffmpegdemux_dispose),
	(gst_ffmpegdemux_stream_from_pad),
	(gst_ffmpegdemux_src_event_mask), (gst_ffmpegdemux_src_event),
	(gst_ffmpegdemux_src_format_list),
	(gst_ffmpegdemux_src_query_list), (gst_ffmpegdemux_src_query),
	(gst_ffmpegdemux_src_convert), (gst_ffmpegdemux_add),
	(gst_ffmpegdemux_open), (gst_ffmpegdemux_loop),
	(gst_ffmpegdemux_change_state), (gst_ffmpegdemux_register):
	  Right. OK, so I fixed up the demuxing and have it basically-working,
	  and the best way to get some more people to test it is to actually
	  enable it. I'm not sure if we want this for 0.8.0, but we can at
	  least give it a try. I've tested avi, matroska and mpeg, all appear
	  to work. The cool thing is that this gives us instant support for
	  several exotic formats that we'd never care about ourselves. Again,
	  this needs more testing for it to still be enabled in 0.8.0, but I
	  want to give it a try...
	* ext/ffmpeg/gstffmpegmux.c: (gst_ffmpegmux_base_init),
	(gst_ffmpegmux_init), (gst_ffmpegmux_request_new_pad),
	(gst_ffmpegmux_connect), (gst_ffmpegmux_loop),
	(gst_ffmpegmux_register):
	  Add some fixups that I use locally. Make it work in the case of
	  MPEG encoding, but the muxer is still not in shape to be enabled.
	* ext/ffmpeg/gstffmpegprotocol.c: (gst_ffmpegdata_open),
	(gst_ffmpegdata_read), (gst_ffmpegdata_write),
	(gst_ffmpegdata_seek), (gst_ffmpegdata_close):
	  Some small fixups that crept into it while it was disabled for the
	  last few years. Basically works.
	* gst-libs/ext/ffmpeg/Makefile.am:
	  Instead of having our local-autotoolized version, I patch the ffmpeg
	  source to be fully autotoolized. That means a simple SUBDIRS here
	  is now enough.
	* gst-libs/ext/ffmpeg/Tag:
	  Version update.
	* gst-libs/ext/ffmpeg/patch/autotools.diff:
	  Autotoolize ffmpeg. Needs to be sent to ffmpeg-devel@...
	* gst-libs/ext/ffmpeg/patch/disableinstalllibs.diff:
	  Don't install their libs.
	* gst-libs/ext/ffmpeg/patch/disablemmx.diff:
	  Don't use MMX. It cannot ocmpile using PIC.
	* gst-libs/ext/ffmpeg/patch/disabletools.diff:
	  Don't compile/install their tools, we don't use them.
	* gst-libs/ext/ffmpeg/patch/functions.diff:
	  Prevent symbol conflicts.
	* gst-libs/ext/ffmpeg/patch/matroska.diff:
	  Add a matroska demuxer. Needs to be sent to ffmpeg-devel@...

2004-02-26  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.ac: releasing 0.7.1 "True Colors"

2004-02-14  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-ffmpeg.spec.in: fix spec file

2004-02-14 Christian Schaller <Uraeus@gnome.org>

	* gst-ffmpeg.spec.in: add spec file

2004-02-13  Thomas Vander Stichele  <thomas at apestaart dot org>

	* creation


