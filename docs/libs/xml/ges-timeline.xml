<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
               "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY % version-entities SYSTEM "version.entities">
%version-entities;
]>

<refentry id="GESTimeline">
<refmeta>
<refentrytitle role="top_of_page" id="GESTimeline.top_of_page">GESTimeline</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>
  GES Library
</refmiscinfo>
</refmeta>
<refnamediv>
<refname>GESTimeline</refname>
<refpurpose>Multimedia timeline</refpurpose>
</refnamediv>

<refsynopsisdiv id="GESTimeline.synopsis" role="synopsis">
<title role="synopsis.title">Synopsis</title>

<synopsis>
#include &lt;ges/ges.h&gt;

                    <link linkend="GESTimeline-struct">GESTimeline</link>;
                    <link linkend="GESTimelineClass">GESTimelineClass</link>;
<link linkend="GESTimeline"><returnvalue>GESTimeline</returnvalue></link>*        <link linkend="ges-timeline-new">ges_timeline_new</link>                    (<parameter><type>void</type></parameter>);
<link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            <link linkend="ges-timeline-add-layer">ges_timeline_add_layer</link>              (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> *layer</parameter>);
<link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            <link linkend="ges-timeline-remove-layer">ges_timeline_remove_layer</link>           (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> *layer</parameter>);
<link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            <link linkend="ges-timeline-add-track">ges_timeline_add_track</link>              (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="GESTrack"><type>GESTrack</type></link> *track</parameter>);
<link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            <link linkend="ges-timeline-remove-track">ges_timeline_remove_track</link>           (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="GESTrack"><type>GESTrack</type></link> *track</parameter>);
<link linkend="GESTrack"><returnvalue>GESTrack</returnvalue></link> *          <link linkend="ges-timeline-get-track-for-pad">ges_timeline_get_track_for_pad</link>      (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="GstPad"><type>GstPad</type></link> *pad</parameter>);
<link linkend="GESTimeline"><returnvalue>GESTimeline</returnvalue></link>*        <link linkend="ges-timeline-load-from-uri">ges_timeline_load_from_uri</link>          (<parameter><link linkend="gchar"><type>gchar</type></link> *uri</parameter>);
<link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            <link linkend="ges-timeline-save">ges_timeline_save</link>                   (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="gchar"><type>gchar</type></link> *uri</parameter>);
<link linkend="GList"><returnvalue>GList</returnvalue></link> *             <link linkend="ges-timeline-get-tracks">ges_timeline_get_tracks</link>             (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>);
</synopsis>
</refsynopsisdiv>
<refsect1 id="GESTimeline.object-hierarchy" role="object_hierarchy">
<title role="object_hierarchy.title">Object Hierarchy</title>
<synopsis>
  <link linkend="GObject">GObject</link>
   +----<link linkend="GstObject">GstObject</link>
         +----<link linkend="GstElement">GstElement</link>
               +----<link linkend="GstBin">GstBin</link>
                     +----GESTimeline
</synopsis>
</refsect1>
<refsect1 id="GESTimeline.implemented-interfaces" role="impl_interfaces">
<title role="impl_interfaces.title">Implemented Interfaces</title>
<para>
GESTimeline implements
 <link linkend="GstChildProxy">GstChildProxy</link>.</para>
</refsect1>
<refsect1 id="GESTimeline.signals" role="signal_proto">
<title role="signal_proto.title">Signals</title>
<synopsis>
  &quot;<link linkend="GESTimeline-layer-added">layer-added</link>&quot;                                    : Run First
  &quot;<link linkend="GESTimeline-layer-removed">layer-removed</link>&quot;                                  : Run First
  &quot;<link linkend="GESTimeline-track-added">track-added</link>&quot;                                    : Run First
  &quot;<link linkend="GESTimeline-track-removed">track-removed</link>&quot;                                  : Run First
</synopsis>
</refsect1>

<refsect1 id="GESTimeline.description" role="desc">
<title role="desc.title">Description</title>
<para>
<link linkend="GESTimeline"><type>GESTimeline</type></link> is the central object for any multimedia timeline.
</para>
<para>
Contains a list of <link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> which users should use to arrange the
various timeline objects through time.
</para>
<para>
The output type is determined by the <link linkend="GESTimelineTrack"><type>GESTimelineTrack</type></link> that are set on
the <link linkend="GESTimeline"><type>GESTimeline</type></link>.
</para>
</refsect1>
<refsect1 id="GESTimeline.details" role="details">
<title role="details.title">Details</title>
<refsect2 id="GESTimeline-struct" role="struct">
<title>GESTimeline</title>
<indexterm zone="GESTimeline-struct"><primary>GESTimeline</primary></indexterm>
<programlisting>typedef struct _GESTimeline GESTimeline;</programlisting>
<variablelist role="struct">
</variablelist></refsect2>
<refsect2 id="GESTimelineClass" role="struct">
<title>GESTimelineClass</title>
<indexterm zone="GESTimelineClass"><primary>GESTimelineClass</primary></indexterm>
<programlisting>typedef struct {
  GstBinClass parent_class;

  void (*track_added)&#160;(GESTimeline *timeline, GESTrack * track);
  void (*track_removed)&#160;(GESTimeline *timeline, GESTrack * track);
  void (*layer_added)&#160;(GESTimeline *timeline, GESTimelineLayer *layer);
  void (*layer_removed)&#160;(GESTimeline *timeline, GESTimelineLayer *layer);
} GESTimelineClass;
</programlisting>
<para>
</para></refsect2>
<refsect2 id="ges-timeline-new" role="function">
<title>ges_timeline_new ()</title>
<indexterm zone="ges-timeline-new"><primary>ges_timeline_new</primary></indexterm>
<programlisting><link linkend="GESTimeline"><returnvalue>GESTimeline</returnvalue></link>*        ges_timeline_new                    (<parameter><type>void</type></parameter>);</programlisting>
<para>
Creates a new empty <link linkend="GESTimeline"><type>GESTimeline</type></link>.
</para><variablelist role="params">
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> The new timeline.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-add-layer" role="function">
<title>ges_timeline_add_layer ()</title>
<indexterm zone="ges-timeline-add-layer"><primary>ges_timeline_add_layer</primary></indexterm>
<programlisting><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            ges_timeline_add_layer              (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> *layer</parameter>);</programlisting>
<para>
Add the layer to the timeline. The reference to the <parameter>layer</parameter> will be stolen
by the <parameter>timeline</parameter>.
</para><variablelist role="params">
<varlistentry><term><parameter>timeline</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTimeline"><type>GESTimeline</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>layer</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> to add
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> TRUE if the layer was properly added, else FALSE.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-remove-layer" role="function">
<title>ges_timeline_remove_layer ()</title>
<indexterm zone="ges-timeline-remove-layer"><primary>ges_timeline_remove_layer</primary></indexterm>
<programlisting><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            ges_timeline_remove_layer           (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> *layer</parameter>);</programlisting>
<para>
Removes the layer from the timeline. The reference that the <parameter>timeline</parameter> holds on
the layer will be dropped. If you wish to use the <parameter>layer</parameter> after calling this
method, you need to take a reference before calling.
</para><variablelist role="params">
<varlistentry><term><parameter>timeline</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTimeline"><type>GESTimeline</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>layer</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> to remove
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> TRUE if the layer was properly removed, else FALSE.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-add-track" role="function">
<title>ges_timeline_add_track ()</title>
<indexterm zone="ges-timeline-add-track"><primary>ges_timeline_add_track</primary></indexterm>
<programlisting><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            ges_timeline_add_track              (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="GESTrack"><type>GESTrack</type></link> *track</parameter>);</programlisting>
<para>
Add a track to the timeline. The reference to the track will be stolen by the
pipeline.
</para><variablelist role="params">
<varlistentry><term><parameter>timeline</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTimeline"><type>GESTimeline</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>track</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTrack"><type>GESTrack</type></link> to add
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> TRUE if the track was properly added, else FALSE.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-remove-track" role="function">
<title>ges_timeline_remove_track ()</title>
<indexterm zone="ges-timeline-remove-track"><primary>ges_timeline_remove_track</primary></indexterm>
<programlisting><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            ges_timeline_remove_track           (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="GESTrack"><type>GESTrack</type></link> *track</parameter>);</programlisting>
<para>
Remove the <parameter>track</parameter> from the <parameter>timeline</parameter>. The reference stolen when adding the
<parameter>track</parameter> will be removed. If you wish to use the <parameter>track</parameter> after calling this
function you must ensure that you have a reference to it.
</para><variablelist role="params">
<varlistentry><term><parameter>timeline</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTimeline"><type>GESTimeline</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>track</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTrack"><type>GESTrack</type></link> to remove
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> TRUE if the <parameter>track</parameter> was properly removed, else FALSE.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-get-track-for-pad" role="function">
<title>ges_timeline_get_track_for_pad ()</title>
<indexterm zone="ges-timeline-get-track-for-pad"><primary>ges_timeline_get_track_for_pad</primary></indexterm>
<programlisting><link linkend="GESTrack"><returnvalue>GESTrack</returnvalue></link> *          ges_timeline_get_track_for_pad      (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="GstPad"><type>GstPad</type></link> *pad</parameter>);</programlisting>
<para>
Search the <link linkend="GESTrack"><type>GESTrack</type></link> corresponding to the given <parameter>timeline</parameter>'s <parameter>pad</parameter>.
</para><variablelist role="params">
<varlistentry><term><parameter>timeline</parameter>&#160;:</term>
<listitem><simpara>The <link linkend="GESTimeline"><type>GESTimeline</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>pad</parameter>&#160;:</term>
<listitem><simpara>The <link linkend="GstPad"><type>GstPad</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> The corresponding <link linkend="GESTrack"><type>GESTrack</type></link> if it is found, or <link linkend="NULL:CAPS"><type>NULL</type></link> if there is
an error.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-load-from-uri" role="function">
<title>ges_timeline_load_from_uri ()</title>
<indexterm zone="ges-timeline-load-from-uri"><primary>ges_timeline_load_from_uri</primary></indexterm>
<programlisting><link linkend="GESTimeline"><returnvalue>GESTimeline</returnvalue></link>*        ges_timeline_load_from_uri          (<parameter><link linkend="gchar"><type>gchar</type></link> *uri</parameter>);</programlisting>
<para>
Creates a timeline from the contents of given uri.
</para>
<para>
NOT_IMPLEMENTED !
</para><variablelist role="params">
<varlistentry><term><parameter>uri</parameter>&#160;:</term>
<listitem><simpara>The URI to load from
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> A new <link linkend="GESTimeline"><type>GESTimeline</type></link> if loading was successful, else NULL.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-save" role="function">
<title>ges_timeline_save ()</title>
<indexterm zone="ges-timeline-save"><primary>ges_timeline_save</primary></indexterm>
<programlisting><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            ges_timeline_save                   (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>,
                                                         <parameter><link linkend="gchar"><type>gchar</type></link> *uri</parameter>);</programlisting>
<para>
Saves the timeline to the given location
</para>
<para>
NOT_IMPLEMENTED !
</para><variablelist role="params">
<varlistentry><term><parameter>timeline</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTimeline"><type>GESTimeline</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>uri</parameter>&#160;:</term>
<listitem><simpara>The location to save to
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> TRUE if the timeline was successfully saved to the given location,
else FALSE.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-get-tracks" role="function">
<title>ges_timeline_get_tracks ()</title>
<indexterm zone="ges-timeline-get-tracks"><primary>ges_timeline_get_tracks</primary></indexterm>
<programlisting><link linkend="GList"><returnvalue>GList</returnvalue></link> *             ges_timeline_get_tracks             (<parameter><link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline</parameter>);</programlisting>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>timeline</parameter>&#160;:</term>
<listitem><simpara>
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara>
</simpara></listitem></varlistentry>
</variablelist></refsect2>

</refsect1>
<refsect1 id="GESTimeline.signal-details" role="signals">
<title role="signals.title">Signal Details</title>
<refsect2 id="GESTimeline-layer-added" role="signal"><title>The <literal>&quot;layer-added&quot;</literal> signal</title>
<indexterm zone="GESTimeline-layer-added"><primary>GESTimeline::layer-added</primary></indexterm>
<programlisting><link linkend="void"><returnvalue>void</returnvalue></link>                user_function                      (<link linkend="GESTimeline"><type>GESTimeline</type></link>      *timeline,
                                                        <link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> *layer,
                                                        <link linkend="gpointer"><type>gpointer</type></link>          user_data)      : Run First</programlisting>
<para>
Will be emitted after the layer was added to the timeline.
</para><variablelist role="params">
<varlistentry><term><parameter>timeline</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTimeline"><type>GESTimeline</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>layer</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> that was added to the timeline
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>user_data</parameter>&#160;:</term>
<listitem><simpara>user data set when the signal handler was connected.</simpara></listitem></varlistentry>
</variablelist></refsect2><refsect2 id="GESTimeline-layer-removed" role="signal"><title>The <literal>&quot;layer-removed&quot;</literal> signal</title>
<indexterm zone="GESTimeline-layer-removed"><primary>GESTimeline::layer-removed</primary></indexterm>
<programlisting><link linkend="void"><returnvalue>void</returnvalue></link>                user_function                      (<link linkend="GESTimeline"><type>GESTimeline</type></link>      *timeline,
                                                        <link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> *layer,
                                                        <link linkend="gpointer"><type>gpointer</type></link>          user_data)      : Run First</programlisting>
<para>
Will be emitted after the layer was removed from the timeline.
</para><variablelist role="params">
<varlistentry><term><parameter>timeline</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTimeline"><type>GESTimeline</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>layer</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> that was removed from the timeline
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>user_data</parameter>&#160;:</term>
<listitem><simpara>user data set when the signal handler was connected.</simpara></listitem></varlistentry>
</variablelist></refsect2><refsect2 id="GESTimeline-track-added" role="signal"><title>The <literal>&quot;track-added&quot;</literal> signal</title>
<indexterm zone="GESTimeline-track-added"><primary>GESTimeline::track-added</primary></indexterm>
<programlisting><link linkend="void"><returnvalue>void</returnvalue></link>                user_function                      (<link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline,
                                                        <link linkend="GESTrack"><type>GESTrack</type></link>    *track,
                                                        <link linkend="gpointer"><type>gpointer</type></link>     user_data)      : Run First</programlisting>
<para>
Will be emitted after the track was added to the timeline.
</para><variablelist role="params">
<varlistentry><term><parameter>timeline</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTimeline"><type>GESTimeline</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>track</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTrack"><type>GESTrack</type></link> that was added to the timeline
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>user_data</parameter>&#160;:</term>
<listitem><simpara>user data set when the signal handler was connected.</simpara></listitem></varlistentry>
</variablelist></refsect2><refsect2 id="GESTimeline-track-removed" role="signal"><title>The <literal>&quot;track-removed&quot;</literal> signal</title>
<indexterm zone="GESTimeline-track-removed"><primary>GESTimeline::track-removed</primary></indexterm>
<programlisting><link linkend="void"><returnvalue>void</returnvalue></link>                user_function                      (<link linkend="GESTimeline"><type>GESTimeline</type></link> *timeline,
                                                        <link linkend="GESTrack"><type>GESTrack</type></link>    *track,
                                                        <link linkend="gpointer"><type>gpointer</type></link>     user_data)      : Run First</programlisting>
<para>
Will be emitted after the track was removed from the timeline.
</para><variablelist role="params">
<varlistentry><term><parameter>timeline</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTimeline"><type>GESTimeline</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>track</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTrack"><type>GESTrack</type></link> that was removed from the timeline
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>user_data</parameter>&#160;:</term>
<listitem><simpara>user data set when the signal handler was connected.</simpara></listitem></varlistentry>
</variablelist></refsect2>
</refsect1>

</refentry>
