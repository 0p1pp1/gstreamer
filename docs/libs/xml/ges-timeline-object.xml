<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
               "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY % version-entities SYSTEM "version.entities">
%version-entities;
]>

<refentry id="GESTimelineObject">
<refmeta>
<refentrytitle role="top_of_page" id="GESTimelineObject.top_of_page">GESTimelineObject</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>
  GES Library
</refmiscinfo>
</refmeta>
<refnamediv>
<refname>GESTimelineObject</refname>
<refpurpose>Base Class for objects in a <link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link></refpurpose>
</refnamediv>

<refsynopsisdiv id="GESTimelineObject.synopsis" role="synopsis">
<title role="synopsis.title">Synopsis</title>

<synopsis>
#include &lt;ges/ges.h&gt;

                    <link linkend="GESTimelineObject-struct">GESTimelineObject</link>;
                    <link linkend="GESTimelineObjectClass">GESTimelineObjectClass</link>;
<link linkend="GESTrackObject"><returnvalue>GESTrackObject</returnvalue></link> *    (<link linkend="CreateTrackObjectFunc">*CreateTrackObjectFunc</link>)            (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="GESTrack"><type>GESTrack</type></link> *track</parameter>);
<link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            (<link linkend="FillTrackObjectFunc">*FillTrackObjectFunc</link>)              (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="GESTrackObject"><type>GESTrackObject</type></link> *trobject</parameter>,
                                                         <parameter><link linkend="GstElement"><type>GstElement</type></link> *gnlobj</parameter>);
#define             <link linkend="GES-TIMELINE-OBJECT-DURATION:CAPS">GES_TIMELINE_OBJECT_DURATION</link>        (obj)
#define             <link linkend="GES-TIMELINE-OBJECT-INPOINT:CAPS">GES_TIMELINE_OBJECT_INPOINT</link>         (obj)
#define             <link linkend="GES-TIMELINE-OBJECT-PRIORITY:CAPS">GES_TIMELINE_OBJECT_PRIORITY</link>        (obj)
#define             <link linkend="GES-TIMELINE-OBJECT-START:CAPS">GES_TIMELINE_OBJECT_START</link>           (obj)
<link linkend="void"><returnvalue>void</returnvalue></link>                <link linkend="ges-timeline-object-set-inpoint">ges_timeline_object_set_inpoint</link>     (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="guint64"><type>guint64</type></link> inpoint</parameter>);
<link linkend="void"><returnvalue>void</returnvalue></link>                <link linkend="ges-timeline-object-set-start">ges_timeline_object_set_start</link>       (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="guint64"><type>guint64</type></link> start</parameter>);
<link linkend="void"><returnvalue>void</returnvalue></link>                <link linkend="ges-timeline-object-set-duration">ges_timeline_object_set_duration</link>    (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="guint64"><type>guint64</type></link> duration</parameter>);
<link linkend="GESTrackObject"><returnvalue>GESTrackObject</returnvalue></link> *    <link linkend="ges-timeline-object-find-track-object">ges_timeline_object_find_track_object</link>
                                                        (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="GESTrack"><type>GESTrack</type></link> *track</parameter>);
</synopsis>
</refsynopsisdiv>
<refsect1 id="GESTimelineObject.object-hierarchy" role="object_hierarchy">
<title role="object_hierarchy.title">Object Hierarchy</title>
<synopsis>
  <link linkend="GObject">GObject</link>
   +----GESTimelineObject
         +----<link linkend="GESTimelineSource">GESTimelineSource</link>
         +----<link linkend="GESTimelineTransition">GESTimelineTransition</link>
</synopsis>
</refsect1>
<refsect1 id="GESTimelineObject.properties" role="properties">
<title role="properties.title">Properties</title>
<synopsis>
  &quot;<link linkend="GESTimelineObject--duration">duration</link>&quot;                 <link linkend="guint64"><type>guint64</type></link>               : Read / Write
  &quot;<link linkend="GESTimelineObject--in-point">in-point</link>&quot;                 <link linkend="guint64"><type>guint64</type></link>               : Read / Write
  &quot;<link linkend="GESTimelineObject--priority">priority</link>&quot;                 <link linkend="guint"><type>guint</type></link>                 : Read / Write
  &quot;<link linkend="GESTimelineObject--start">start</link>&quot;                    <link linkend="guint64"><type>guint64</type></link>               : Read / Write
</synopsis>
</refsect1>

<refsect1 id="GESTimelineObject.description" role="desc">
<title role="desc.title">Description</title>
<para>
Responsible for creating the <link linkend="GESTrackObject"><type>GESTrackObject</type></link>(s) for given <link linkend="GESTimelineTrack"><type>GESTimelineTrack</type></link>(s)
</para>
<para>
Keeps a reference to the <link linkend="GESTrackObject"><type>GESTrackObject</type></link>(s) it created and sets/updates their properties.
</para>
</refsect1>
<refsect1 id="GESTimelineObject.details" role="details">
<title role="details.title">Details</title>
<refsect2 id="GESTimelineObject-struct" role="struct">
<title>GESTimelineObject</title>
<indexterm zone="GESTimelineObject-struct"><primary>GESTimelineObject</primary></indexterm>
<programlisting>typedef struct {
  GESTimelineLayer * layer;
} GESTimelineObject;
</programlisting>
<para>
The GESTimelineObject subclass. Subclasses can access these fields.
</para><variablelist role="struct">
<varlistentry><term><link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link>&#160;*<structfield id="GESTimelineObject-struct.layer">layer</structfield>;</term>
<listitem><simpara>the <link linkend="GESTImelineLayer"><type>GESTImelineLayer</type></link> where this object is being used.
</simpara></listitem>
</varlistentry>
</variablelist></refsect2>
<refsect2 id="GESTimelineObjectClass" role="struct">
<title>GESTimelineObjectClass</title>
<indexterm zone="GESTimelineObjectClass"><primary>GESTimelineObjectClass</primary></indexterm>
<programlisting>typedef struct {
  GObjectClass parent_class;

  CreateTrackObjectFunc create_track_object;
  /* FIXME : might need a release_track_object */
  FillTrackObjectFunc&#160;fill_track_object;
  gboolean need_fill_track;
} GESTimelineObjectClass;
</programlisting>
<para>
Subclasses can override the <parameter>create_track_object</parameter> and <parameter>fill_track_object</parameter> methods.
</para><variablelist role="struct">
<varlistentry><term><link linkend="GObjectClass"><type>GObjectClass</type></link>&#160;<structfield id="GESTimelineObjectClass.parent-class">parent_class</structfield>;</term>
<listitem><simpara>object parent class
</simpara></listitem>
</varlistentry>
<varlistentry><term><link linkend="CreateTrackObjectFunc"><type>CreateTrackObjectFunc</type></link>&#160;<structfield id="GESTimelineObjectClass.create-track-object">create_track_object</structfield>;</term>
<listitem><simpara>method to create a <link linkend="GESTrackObject"><type>GESTrackObject</type></link> for a given <link linkend="GESTrack"><type>GESTrack</type></link>.
</simpara></listitem>
</varlistentry>
<varlistentry><term><link linkend="FillTrackObjectFunc"><type>FillTrackObjectFunc</type></link>&#160;<structfield id="GESTimelineObjectClass.fill-track-object">fill_track_object</structfield>;</term>
<listitem><simpara>method to fill an associated <link linkend="GESTrackObject"><type>GESTrackObject</type></link>.
</simpara></listitem>
</varlistentry>
<varlistentry><term><link linkend="gboolean"><type>gboolean</type></link>&#160;<structfield id="GESTimelineObjectClass.need-fill-track">need_fill_track</structfield>;</term>
<listitem><simpara>Set to TRUE if <parameter>fill_track_object</parameter> needs to be called.
</simpara></listitem>
</varlistentry>
</variablelist></refsect2>
<refsect2 id="CreateTrackObjectFunc" role="function">
<title>CreateTrackObjectFunc ()</title>
<indexterm zone="CreateTrackObjectFunc"><primary>CreateTrackObjectFunc</primary></indexterm>
<programlisting><link linkend="GESTrackObject"><returnvalue>GESTrackObject</returnvalue></link> *    (*CreateTrackObjectFunc)            (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="GESTrack"><type>GESTrack</type></link> *track</parameter>);</programlisting>
<para>
A function that will be called when the <parameter>object</parameter> is added to a
<link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link>.
</para>
<para>
The implementer of this function shall return the proper <link linkend="GESTrackObject"><type>GESTrackObject</type></link>
that should be controlled by <parameter>object</parameter> for the given <parameter>track</parameter>.
</para>
<para>
If the <parameter>object</parameter> can't support the media-type of the <parameter>track</parameter>, this function
should return <link linkend="NULL:CAPS"><literal>NULL</literal></link>.
</para><variablelist role="params">
<varlistentry><term><parameter>object</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTimelineObject"><type>GESTimelineObject</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>track</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTrack"><type>GESTrack</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> the <link linkend="GESTrackObject"><type>GESTrackObject</type></link> to be used, or <link linkend="NULL:CAPS"><literal>NULL</literal></link>.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="FillTrackObjectFunc" role="function">
<title>FillTrackObjectFunc ()</title>
<indexterm zone="FillTrackObjectFunc"><primary>FillTrackObjectFunc</primary></indexterm>
<programlisting><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            (*FillTrackObjectFunc)              (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="GESTrackObject"><type>GESTrackObject</type></link> *trobject</parameter>,
                                                         <parameter><link linkend="GstElement"><type>GstElement</type></link> *gnlobj</parameter>);</programlisting>
<para>
A function that will be called when the GNonLin object of a corresponding
track object needs to be filled.
</para>
<para>
The implementer of this function shall add the proper <link linkend="GstElement"><type>GstElement</type></link> to <parameter>gnlobj</parameter>
using <link linkend="gst-bin-add"><function>gst_bin_add()</function></link>.
</para><variablelist role="params">
<varlistentry><term><parameter>object</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> controlling the track object
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>trobject</parameter>&#160;:</term>
<listitem><simpara>the <link linkend="GESTrackObject"><type>GESTrackObject</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>gnlobj</parameter>&#160;:</term>
<listitem><simpara>the GNonLin object that needs to be filled.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> TRUE if the implementer succesfully filled the <parameter>gnlobj</parameter>, else <link linkend="FALSE:CAPS"><type>FALSE</type></link>.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="GES-TIMELINE-OBJECT-DURATION:CAPS" role="macro">
<title>GES_TIMELINE_OBJECT_DURATION()</title>
<indexterm zone="GES-TIMELINE-OBJECT-DURATION:CAPS"><primary>GES_TIMELINE_OBJECT_DURATION</primary></indexterm>
<programlisting>#define GES_TIMELINE_OBJECT_DURATION(obj) (((GESTimelineObject*)obj)-&gt;duration)
</programlisting>
<para>
The duration position of the object (in nanoseconds).
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTimelineObject"><type>GESTimelineObject</type></link>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="GES-TIMELINE-OBJECT-INPOINT:CAPS" role="macro">
<title>GES_TIMELINE_OBJECT_INPOINT()</title>
<indexterm zone="GES-TIMELINE-OBJECT-INPOINT:CAPS"><primary>GES_TIMELINE_OBJECT_INPOINT</primary></indexterm>
<programlisting>#define GES_TIMELINE_OBJECT_INPOINT(obj) (((GESTimelineObject*)obj)-&gt;inpoint)
</programlisting>
<para>
The in-point of the object (in nanoseconds).
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTimelineObject"><type>GESTimelineObject</type></link>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="GES-TIMELINE-OBJECT-PRIORITY:CAPS" role="macro">
<title>GES_TIMELINE_OBJECT_PRIORITY()</title>
<indexterm zone="GES-TIMELINE-OBJECT-PRIORITY:CAPS"><primary>GES_TIMELINE_OBJECT_PRIORITY</primary></indexterm>
<programlisting>#define GES_TIMELINE_OBJECT_PRIORITY(obj) (((GESTimelineObject*)obj)-&gt;priority)
</programlisting>
<para>
The priority of the object.
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTimelineObject"><type>GESTimelineObject</type></link>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="GES-TIMELINE-OBJECT-START:CAPS" role="macro">
<title>GES_TIMELINE_OBJECT_START()</title>
<indexterm zone="GES-TIMELINE-OBJECT-START:CAPS"><primary>GES_TIMELINE_OBJECT_START</primary></indexterm>
<programlisting>#define GES_TIMELINE_OBJECT_START(obj) (((GESTimelineObject*)obj)-&gt;start)
</programlisting>
<para>
The start position of the object (in nanoseconds).
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTimelineObject"><type>GESTimelineObject</type></link>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-object-set-inpoint" role="function">
<title>ges_timeline_object_set_inpoint ()</title>
<indexterm zone="ges-timeline-object-set-inpoint"><primary>ges_timeline_object_set_inpoint</primary></indexterm>
<programlisting><link linkend="void"><returnvalue>void</returnvalue></link>                ges_timeline_object_set_inpoint     (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="guint64"><type>guint64</type></link> inpoint</parameter>);</programlisting>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>object</parameter>&#160;:</term>
<listitem><simpara>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>inpoint</parameter>&#160;:</term>
<listitem><simpara>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-object-set-start" role="function">
<title>ges_timeline_object_set_start ()</title>
<indexterm zone="ges-timeline-object-set-start"><primary>ges_timeline_object_set_start</primary></indexterm>
<programlisting><link linkend="void"><returnvalue>void</returnvalue></link>                ges_timeline_object_set_start       (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="guint64"><type>guint64</type></link> start</parameter>);</programlisting>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>object</parameter>&#160;:</term>
<listitem><simpara>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>start</parameter>&#160;:</term>
<listitem><simpara>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-object-set-duration" role="function">
<title>ges_timeline_object_set_duration ()</title>
<indexterm zone="ges-timeline-object-set-duration"><primary>ges_timeline_object_set_duration</primary></indexterm>
<programlisting><link linkend="void"><returnvalue>void</returnvalue></link>                ges_timeline_object_set_duration    (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="guint64"><type>guint64</type></link> duration</parameter>);</programlisting>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>object</parameter>&#160;:</term>
<listitem><simpara>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>duration</parameter>&#160;:</term>
<listitem><simpara>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="ges-timeline-object-find-track-object" role="function">
<title>ges_timeline_object_find_track_object ()</title>
<indexterm zone="ges-timeline-object-find-track-object"><primary>ges_timeline_object_find_track_object</primary></indexterm>
<programlisting><link linkend="GESTrackObject"><returnvalue>GESTrackObject</returnvalue></link> *    ges_timeline_object_find_track_object
                                                        (<parameter><link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> *object</parameter>,
                                                         <parameter><link linkend="GESTrack"><type>GESTrack</type></link> *track</parameter>);</programlisting>
<para>
Finds the <link linkend="GESTrackObject"><type>GESTrackObject</type></link> controlled by <parameter>object</parameter> that is used in <parameter>track</parameter>.
</para>
<para>
Note: The reference count of the returned <link linkend="GESTrackObject"><type>GESTrackObject</type></link> will be increased,
unref when done with it.
</para><variablelist role="params">
<varlistentry><term><parameter>object</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTimelineObject"><type>GESTimelineObject</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>track</parameter>&#160;:</term>
<listitem><simpara>a <link linkend="GESTrack"><type>GESTrack</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> The <link linkend="GESTrackObject"><type>GESTrackObject</type></link> used by <parameter>track</parameter>, else <link linkend="NULL:CAPS"><type>NULL</type></link>.
</simpara></listitem></varlistentry>
</variablelist></refsect2>

</refsect1>
<refsect1 id="GESTimelineObject.property-details" role="property_details">
<title role="property_details.title">Property Details</title>
<refsect2 id="GESTimelineObject--duration" role="property"><title>The <literal>&quot;duration&quot;</literal> property</title>
<indexterm zone="GESTimelineObject--duration"><primary>GESTimelineObject:duration</primary></indexterm>
<programlisting>  &quot;duration&quot;                 <link linkend="guint64"><type>guint64</type></link>               : Read / Write</programlisting>
<para>
The duration (in nanoseconds) which will be used in the container <link linkend="GESTrack"><type>GESTrack</type></link>
starting from 'in-point'.
</para><para>Default value: 1000000000</para>
</refsect2>
<refsect2 id="GESTimelineObject--in-point" role="property"><title>The <literal>&quot;in-point&quot;</literal> property</title>
<indexterm zone="GESTimelineObject--in-point"><primary>GESTimelineObject:in-point</primary></indexterm>
<programlisting>  &quot;in-point&quot;                 <link linkend="guint64"><type>guint64</type></link>               : Read / Write</programlisting>
<para>
The in-point at which this <link linkend="GESTimelineObject"><type>GESTimelineObject</type></link> will start outputting data
from its contents (in nanoseconds).
</para>
<para>
Ex : an in-point of 5 seconds means that the first outputted buffer will
be the one located 5 seconds in the controlled resource.
</para><para>Default value: 0</para>
</refsect2>
<refsect2 id="GESTimelineObject--priority" role="property"><title>The <literal>&quot;priority&quot;</literal> property</title>
<indexterm zone="GESTimelineObject--priority"><primary>GESTimelineObject:priority</primary></indexterm>
<programlisting>  &quot;priority&quot;                 <link linkend="guint"><type>guint</type></link>                 : Read / Write</programlisting>
<para>The priority of the object.</para><para>Default value: 0</para>
</refsect2>
<refsect2 id="GESTimelineObject--start" role="property"><title>The <literal>&quot;start&quot;</literal> property</title>
<indexterm zone="GESTimelineObject--start"><primary>GESTimelineObject:start</primary></indexterm>
<programlisting>  &quot;start&quot;                    <link linkend="guint64"><type>guint64</type></link>               : Read / Write</programlisting>
<para>
The position of the object in the <link linkend="GESTimelineLayer"><type>GESTimelineLayer</type></link> (in nanoseconds).
</para><para>Default value: 0</para>
</refsect2>
</refsect1>

</refentry>
